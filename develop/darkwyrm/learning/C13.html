

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>第十三课 &mdash; Haiku 中文文档</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Haiku 中文文档" href="../../../index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../../index.html" class="icon icon-home"> Haiku Chinese Documents
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../关于Haiku.html">关于 Haiku</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../关于Haiku.html#id1">Haiku 好处在哪儿？</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../关于Haiku.html#id2">为何选择 Haiku ？</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../关于Haiku.html#id3">谁支持着 Haiku ？</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../开发.html">开发</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../开发.html#id2">用户指南</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../开发.html#id3">开发文档</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../开发入门.html">开发入门</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../开发入门.html#id2">手册相关</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发入门.html#id3">入门任务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发入门.html#id4">当您找到任务</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发入门.html#id5">编写代码准备</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发入门.html#git">获取 GIT 提交权限</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发入门.html#id6">深入阅读</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Haiku编程学习.html">Haiku编程学习</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku编程学习.html#id1">简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku编程学习.html#id2">目录</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku编程学习.html#id3">参考资料和工具</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Haiku编程教程.html">Haiku 编程详解</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku编程教程.html#id1">前言</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku编程教程.html#id2">内容概览</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Haiku指南.html">Haiku 指南</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku指南.html#guides-haiku"><code class="docutils literal"><span class="pre">/guides/构建Haiku</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku指南.html#id1"><code class="docutils literal"><span class="pre">/guides/安装Haiku</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku指南.html#id2"><code class="docutils literal"><span class="pre">/guides/启动Haiku</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku指南.html#guides"><code class="docutils literal"><span class="pre">/guides/日常任务</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku指南.html#id3"><code class="docutils literal"><span class="pre">/guides/虚拟化</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku指南.html#id4">其他指南</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Haiku源码规范.html">Haiku 编码规范</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id2">规范概况</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id3">缩进和空格</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id4">杂项</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id5">标识符</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id6">变量声明</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#haiku-api">使用 Haiku 内置的 API，类型等</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id7">注释</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id8">许可和版权</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id9">无用代码和调试代码</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id10">其他的要求</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../Haiku源码规范.html#id11">风格检查工具</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../开发常见问题（FAQ）.html">开发常见问题（FAQ）</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id1">我是一个程序员，希望可以帮忙，那么从何开始呢？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id4">是否有简单的引导任务？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id6">是否有特定的编程风格？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id7">如何创建和提交补丁？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#trac">为什么无法在 Trac 中创建任务单？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id8">使用哪些开发工具？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id9">是否有开发者邮件列表？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#irc">是否有 IRC 聊天室？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id10">我尝试进行测试，但是 Haiku 编译失败。接下来该如何操作？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#id11">我想把一些东西集成到官方源之中，可以集成那些组件？该使用何种协议呢？</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../开发常见问题（FAQ）.html#beos-haiku">我希望可以把我的 BeOS 程序/驱动移植到 Haiku，该如何进行？</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../Haiku图标指南.html">Haiku 图标指南</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id1">透视效果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id2">光源效果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id3">渐变效果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id4">色彩效果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id5">阴影效果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id6">轮廓线</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id7">高亮效果</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id8">使用覆盖</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id9">细节</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Haiku图标指南.html#id10">中立图标</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../开发.html#id4">在线资源</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../开发.html#id7">开发工具</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../开发.html#id8">其他系统交叉编译</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../文档.html">文档</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../文档.html#id2">用户文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../文档.html#id3">开发者文档</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../文档.html#id4">早期文档</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../文档.html#bebook-be">BeBook 和 Be 信札</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../文档.html#id5">其他</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Haiku Chinese Documents</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
    <li>第十三课</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="id1">
<h1><a class="toc-backref" href="#id7">第十三课</a><a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#id1" id="id7">第十三课</a><ul>
<li><a class="reference internal" href="#id2" id="id8">继承</a></li>
<li><a class="reference internal" href="#id3" id="id9">虚函数</a></li>
<li><a class="reference internal" href="#id4" id="id10">静态函数</a></li>
<li><a class="reference internal" href="#id5" id="id11">重载：具有相同名称的函数</a></li>
<li><a class="reference internal" href="#id6" id="id12">习题</a></li>
</ul>
</li>
</ul>
</div>
<p>在上一节中，我们了解了一个编程范式，其围绕对象的设计，构建以及交互来执行一个或多个任务。我们也探究了 C++ 中对象称之为类的原因，对象的组成，以及一些其他的基本内容，但是为了成为一个高效的 Haiku 开发人员，我们需要学习更多。</p>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id8">继承</a><a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>Haiku 开发人员编写的很多代码都和继承相关，继承即创建一个基于其他类（基类）的类。例如，如果我们拥有一个矩形类（Rectangle），其具有高度（Height），宽度（Width），并且提供了一组用于计算面积（Area）和周长(Perimeter)的函数。创建一个长方体类（RectangularSolid）类也非常容易，仅需添加一个长度（Depth）和一个计算体积（Volume）的函数即可。</p>
<p>如果长方体类的第三个参数是它与长方形的唯一区别，那么就不必要为它们编写用于计算面积和周长的代码。如果我们仅需要为它们不同的地方编写代码，那这就太方便了。继承让这成为了可能：长方体类就称为长方形类的子类。和孩子继承父母的基因一样，子类继承了其父类的属性和方法，而我们的长方体类就继承了长方形类的所有方法和属性。</p>
<table border="1" class="docutils">
<colgroup>
<col width="8%" />
<col width="29%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"></th>
<th class="head">长方形</th>
<th class="head">长方体</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>属性</td>
<td>Height， Width</td>
<td>Height(继承)，Width(继承), Depth</td>
</tr>
<tr class="row-odd"><td>方法</td>
<td>Area，Perimeter</td>
<td>Area(继承)，Perimeter(继承)， Volume</td>
</tr>
</tbody>
</table>
<p>继承允许我们复用已有的代码。代码复用是 C++ 编程的基础之一。再次提醒，work smarter, not harder。</p>
<p>我们将编写一下两个类定义来分别介绍这两个例子：</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Rectangle</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
                    <span class="n">Rectangle</span><span class="p">(</span><span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">);</span>
            <span class="kt">void</span>    <span class="nf">SetWidth</span><span class="p">(</span><span class="kt">int</span> <span class="n">width</span><span class="p">);</span>
            <span class="kt">int</span>     <span class="nf">Width</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
            <span class="kt">void</span>    <span class="nf">SetHeight</span><span class="p">(</span><span class="kt">int</span> <span class="n">height</span><span class="p">);</span>
            <span class="kt">int</span>     <span class="nf">Height</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
            <span class="kt">int</span>     <span class="nf">Area</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
            <span class="kt">int</span>     <span class="nf">Perimeter</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">private</span><span class="o">:</span>
            <span class="kt">int</span>     <span class="n">fHeight</span><span class="p">;</span>
            <span class="kt">int</span>     <span class="n">fWidth</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// 这行代码说明了 RectangularSolid 是Rectangle的子类。</span>
<span class="k">class</span> <span class="nc">RectangularSolid</span> <span class="o">:</span> <span class="k">public</span> <span class="n">Rectangle</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
                    <span class="n">RectangularSolid</span><span class="p">(</span><span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">);</span>

            <span class="c1">// 我们不需要列出从Rectangle继承来的类，</span>
            <span class="c1">// 除了那些新出现的类。</span>
            <span class="kt">void</span>    <span class="nf">SetDepth</span><span class="p">(</span><span class="kt">int</span> <span class="n">depth</span><span class="p">);</span>
            <span class="kt">int</span>     <span class="nf">Depth</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
            <span class="kt">int</span>     <span class="nf">Volume</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="k">private</span><span class="o">:</span>
            <span class="kt">int</span>     <span class="n">fDepth</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>长方体类仅声明了新使用的方法和属性。编写具体的类实现将要比它们的定义需要更多的思考。这是我们第一次编写有关类的代码，所以，别走神，仔细研究一下这些代码和注释。</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="c1">// Rectangle的构造函数。它将会将这些值赋给对象的属性。在为</span>
<span class="c1">// 类的方法编写代码时，类名和其后的两个冒号置于方法名之前。</span>
<span class="n">Rectangle</span><span class="o">::</span><span class="n">Rectangle</span><span class="p">(</span><span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">fWidth</span> <span class="o">=</span> <span class="n">width</span><span class="p">;</span>
    <span class="n">fHeight</span> <span class="o">=</span> <span class="n">heigh</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span>
<span class="n">Rectangle</span><span class="o">::</span><span class="n">SetWidth</span><span class="p">(</span><span class="kt">int</span> <span class="n">width</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">fWidth</span> <span class="o">=</span> <span class="n">width</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span>
<span class="n">Rectangle</span><span class="o">::</span><span class="n">Width</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">fWidth</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span>
<span class="n">Rectangle</span><span class="o">::</span><span class="n">SetHeight</span><span class="p">(</span><span class="kt">int</span> <span class="n">height</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">fHeight</span> <span class="o">=</span> <span class="n">height</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span>
<span class="n">Rectangle</span><span class="o">::</span><span class="n">Height</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">fHeight</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span>
<span class="n">Rectangle</span><span class="o">::</span><span class="n">Area</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">fWidth</span> <span class="o">*</span> <span class="n">fHeight</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span>
<span class="n">Rectangle</span><span class="o">::</span><span class="n">Perimeter</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">fWidth</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">fHeight</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// 下面是 RectangularSolid 构造函数。在创建 RectangularSolid 的</span>
<span class="c1">// 同时，它第一次使用 Rectangle 的构造函数创建了一个 Rectangle 对象。</span>
<span class="c1">// 我们将跳过 height 和 width，而使用 depth 初始化 fDepth。</span>
<span class="n">RectangularSolid</span><span class="o">::</span><span class="n">RectangularSolid</span><span class="p">(</span><span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">,</span> <span class="kt">int</span> <span class="n">depth</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">fDepth</span> <span class="o">=</span> <span class="n">depth</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">Void</span>
<span class="n">RectangularSolid</span><span class="o">::</span><span class="n">SetDepth</span><span class="p">(</span><span class="kt">int</span> <span class="n">depth</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">fDepth</span> <span class="o">=</span> <span class="n">depth</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span>
<span class="n">RectangularSolid</span><span class="o">::</span><span class="n">Depth</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">fDepth</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span>
<span class="n">RectangularSolid</span><span class="o">::</span><span class="n">Volume</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// 我们调用了 Width() 和 Height() 而不是使用 fWidth 和 fHeight，</span>
    <span class="c1">// 这是因为每个子类都没有访问该对象的私有方法和属性。</span>
    <span class="k">return</span> <span class="n">Width</span><span class="p">()</span> <span class="o">*</span> <span class="n">Height</span><span class="p">()</span> <span class="o">*</span> <span class="n">fDepth</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>这段代码和之前我们所写的代码之间的真正不同点在于，对对象的思考强制我们去关心代码的组织。编写紧凑，优雅的代码可以让它的管理和维护非常容易。</p>
<p>在这段代码中，唯一比较陌生的部分莫过于在 Volume() 中调用 Height() 和 Width()。如果子类能够访问 fWidth 和 fHeight，那岂不是更加方便，这就是 protected 的领地了。尽管您可能并不需要或者不会经常用到。</p>
<p>还有一处值得注意的地方是继承的处理，也就是 Rectangle 的 public 部分。这就是继承的类型。通常您所使用的都是公共（public）继承。这也就是说，父类方法和属性的权限不会发生改变。选择其他两种类型将会限制对基类的访问。选择保护（protected）继承将使基类的所有公共属性和方法成为 protected 而非 public，将使它们对所有的子类都可用，但是对外界则不可见。私有（private）继承将使子类所有的属性和方法成为 private，使父类对外界和任何 “grandchild” 完全无法访问。</p>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id9">虚函数</a><a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>子类不仅可以添加新的方法和属性，而且也可以修改已有方法的行为。但是仅当基类允许修改时才行。而在方法声明的返回值类型前添加 virtual 关键字就提供了这种保证。</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="c1">// 子类可以重新定义该方法的行为。</span>
<span class="n">Virtual</span> <span class="kt">void</span> <span class="nf">MyChangeableMethod</span><span class="p">(</span><span class="kt">int</span> <span class="n">someInt</span><span class="p">);</span>

<span class="c1">// 子类必须要重定义该方法。</span>
<span class="n">Virtual</span> <span class="kt">void</span> <span class="n">ThisMethodMustBeDefined</span><span class="p">(</span><span class="kt">float</span> <span class="n">someFloat</span><span class="p">)</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
<p>虽然允许改变方法的行为方式，但是这并允许我们改变方法的参数类型和数量，以及其返回值类型。父类中的初始版本也并不完全消失。它可以通过作用域操作符进行指定，如下所示：</p>
<div class="highlight-cpp"><div class="highlight"><pre>void
ChildClass::DoSomething(void)
{
    Printf(“Child class did something\n);
    ParentClass::DoSomething();
}
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id10">静态函数</a><a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>通常，您需要调用对象的实例才能够使用其方法。有时候，这太麻烦了，难道所有的函数都必须有其“寄主”？我们可以在类的方法前面加上 static 关键字来解除该“魔咒”。静态函数和我们上述的虚函数一样，在调用时需要使用作用域操作符。</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="k">class</span> <span class="nc">Myclass</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
                            <span class="n">MyClass</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
                <span class="kt">int</span>         <span class="nf">DoSomething</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
    <span class="k">static</span>      <span class="kt">int</span>         <span class="nf">DoSomethingStatic</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
<span class="p">};</span>

<span class="kt">int</span>
<span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">MyClass</span> <span class="n">myClassInstance</span><span class="p">;</span>

    <span class="c1">// 调用函数的常用方法</span>
    <span class="n">MyClassInstance</span><span class="p">.</span><span class="n">DoSomething</span><span class="p">();</span>

    <span class="c1">// 下面的函数不需要实例化类。</span>
    <span class="c1">// 和常规的函数调用有略微的不同。</span>
    <span class="n">MyClass</span><span class="o">::</span><span class="n">DoSomethingStatic</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id11">重载：具有相同名称的函数</a><a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h2>
<p>使用 C 进行编程时有一个限制，几多英豪曾为此烦恼，任何两个函数都不能够同名，即使它们的参数也不相同。C++ 移除了这个枷锁，因为编译器能够根据参数的数量和类型的不同辨别出它们的区别。如下：</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">MyFunction</span><span class="p">(</span><span class="kt">int</span> <span class="n">oneWay</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">MyFunction</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">anotherWay</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">MyFunction</span><span class="p">(</span><span class="kt">float</span> <span class="n">aThirdWay</span><span class="p">);</span>
</pre></div>
</div>
<p>但是，下述的例子则不行：</p>
<div class="highlight-cpp"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">SomeMethod</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">oneConstString</span><span class="p">);</span>
<span class="kt">int</span> <span class="nf">SomeMethod</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">anotherString</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">optionalString</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">);</span>
</pre></div>
</div>
<p>为何不行呢？如果您忽略 optionalString 参数，编译器将无法理解您的意图。</p>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id12">习题</a><a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>阅读 BeBook 中有关 BApplication，Bwindow 和 Bview 的部分。您无需理解所有的东西，但是请尽量对她们有感觉，在下一节中，我们将要为 Haiku 编织真正的花圈了。</p>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 2015, Haiku Chinese Group.
      最后更新于 Aug 18, 2016.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>